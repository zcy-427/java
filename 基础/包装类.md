# 包装类

在 Java 中，包装类是为**基本数据类型**提供的**引用类型封装**，目的是让不具备对象特性的基本数据类型能够参与面向对象的编程体系。Java 为 8 种基本数据类型分别设计了对应的包装类

---

### 基本数据类型与包装类的对应关系

Java 中的 8 种基本数据类型及其包装类对应关系如下（注意`Integer`和`Character`的命名特殊）：

| 基本数据类型 | 包装类        |
| ------------ | ------------- |
| byte         | Byte          |
| short        | Short         |
| int          | **Integer**   |
| long         | Long          |
| float        | Float         |
| double       | Double        |
| char         | **Character** |
| boolean      | Boolean       |

---

### 包装类的核心作用

1. **支持集合与泛型**

   集合（如`ArrayList`、`HashMap`）只能存储**引用类型对象**，无法直接存储基本数据类型；泛型的参数也只能是引用类型，包装类因此成为连接基本类型与集合 / 泛型的桥梁。例如：`ArrayList<Integer> list = new ArrayList<>();` 可存储整数类型的数据。

2. **提供丰富的工具方法**

   包装类封装了大量实用方法，用于**类型转换、数值运算、进制转换**等。例如：

   - `Integer.parseInt(String s)`：将字符串转为`int`类型；
   - `Double.valueOf(String s)`：将字符串转为`Double`对象；
   - `Integer.toBinaryString(int i)`：将整数转为二进制字符串。

3. **处理 null 值**

   基本数据类型无法存储`null`，但包装类作为引用类型可以。在数据库操作、网络传输等场景中，若字段值可能为`null`，需使用包装类接收。

4. **适配面向对象的设计**

   包装类可以作为方法的参数 / 返回值参与面向对象的设计（如多态、继承），而基本数据类型无法直接实现。

---

### 包装类的核心特性

#### 自动装箱与自动拆箱（Java 5+）

这是 Java 的语法糖，无需手动调用方法，即可实现**基本类型↔包装类**的转换：

**自动装箱**：基本类型→包装类，底层调用`valueOf()`方法。

示例：`Integer num = 10;`（等价于`Integer num = Integer.valueOf(10);`）

**自动拆箱**：包装类→基本类型，底层调用`xxxValue()`方法（如`intValue()`、`doubleValue()`）。

示例：`int n = num;`（等价于`int n = num.intValue();`）

#### 常量池缓存机制

部分包装类会在特定范围内缓存对象，以提高性能，避免频繁创建对象：

- `Byte`、`Short`、`Integer`、`Long`：缓存 **-128 ~ 127** 范围内的数值对象；
- `Character`：缓存**0 ~ 127**范围内的字符对象；
- `Boolean`：直接缓存`TRUE`和`FALSE`两个常量对象。

示例：

```java
Integer a = 100;
Integer b = 100;
System.out.println(a == b); // true（命中缓存）

Integer c = 200;
Integer d = 200;
System.out.println(c == d); // false（超出缓存范围，创建新对象）
```

这里创建的num1与num2指向的是同一个对象，而num3与num4超出了缓存范围，指向的不是同一个对象

**提示**：包装类的相等性判断应使用`equals()`方法（比较值），而非`==`（比较地址）。

#### 不可变性

所有包装类的对象都是**不可变**的，一旦创建，其内部的数值 / 字符无法修改。若重新赋值，实际是创建了新的包装类对象。

```java
Integer x = new Integer(5);
x = 10; // 并非修改原有对象的值，而是创建了值为10的新Integer对象
```

---

### 包装类的常用方法

以`Integer`为例，包装类的常用方法可分为以下几类：

1. **类型转换**：`parseInt(String s)`、`valueOf(String s)`、`toString()`；
2. **数值比较**：`compareTo(Integer anotherInteger)`（返回 - 1/0/1 表示大小关系）；
3. **进制转换**：`toBinaryString(int i)`（二进制）、`toHexString(int i)`（十六进制）；
4. **常量获取**：`MAX_VALUE`（最大值）、`MIN_VALUE`（最小值）。

### 常见使用场景

1. 集合存储基本类型数据（如`HashMap<String, Double>`存储键值对）；
2. 泛型定义（如`List<Long>`、`Map<Character, Boolean>`）；
3. 数据库 JDBC 操作（结果集获取数值时用包装类接收可能为 null 的字段）；
4. 方法参数需要`Object`类型时（如`System.out.println(Object obj)`可接收包装类对象）。